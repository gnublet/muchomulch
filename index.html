<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- bulma CSS framework -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.0/css/bulma.min.css">

    <!-- Jquery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <!-- Leaflet maps -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
    integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
    crossorigin=""/>

     <!-- Make sure you put this AFTER Leaflet's CSS -->
    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
    integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
    crossorigin=""></script>

    <!-- calendar -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@5.3.0/main.css">
    <!-- <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.3.0/main.min.js"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.3.0/main.js"></script>
    <script>
        // calendar
        document.addEventListener('DOMContentLoaded', function() {
            var calendarEl = document.getElementById('calendar');
            var calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth'
                });
            calendar.render();
            $("#calendar").hide()
            $("#marketplace").hide()
        });

        $("#calendar").hide()
        
    </script>

    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>MuchoMulch</title>
</head>
<body>
    <!-- <h1>Mucho Mulch</h1> -->

    <section class="hero is-success">
            <div class="hero-body">
              <div class="container">
                <h1 class="title">
                    Mucho Mulch
                </h1>
                <h2 class="subtitle">
                    A centralized place to get started with mulch
                </h2>
              </div>
            </div>
          </section>
    <div class="tabs is-centered is-boxed is-medium">
        <ul>
          <li class="is-active tab" id="map">
            <a>
              <span class="icon is-small"><i class="fas fa-map" aria-hidden="true"></i></span>
              <span>Map</span>
            </a>

          <li class="tab" id="cal">
            <a>
              <span class="icon is-small"><i class="fas fa-calendar" aria-hidden="true"></i></span>
              <span>Calendar</span>
            </a>
          </li>
          <li class="tab" id="list">
            <a>
              <span class="icon is-small"><i class="fas fa-table" aria-hidden="true"></i></span>
              <span>Marketplace</span>
            </a>
          </li>
          <!-- <li>
            <a>
              <span class="icon is-small"><i class="far fa-file-alt" aria-hidden="true"></i></span>
              <span>Documents</span>
            </a>
          </li> -->
        </ul>
      </div>

      <!-- calendar -->
<div id='calendar'></div>

      <div id="mapid" style="width: 600px; height: 400px;"></div>
                <script>
                    var greenIcon = L.icon({
                        iconUrl: 'assets/img/leaf-green.png',
                        shadowUrl: 'assets/img/leaf-shadow.png',

                        iconSize:     [38, 95], // size of the icon
                        shadowSize:   [50, 64], // size of the shadow
                        iconAnchor:   [22, 94], // point of the icon which will correspond to marker's location
                        shadowAnchor: [4, 62],  // the same for the shadow
                        popupAnchor:  [-3, -76] // point from which the popup should open relative to the iconAnchor
                    });

                    var mymap = L.map('mapid').setView([32.2, -110.97], 13);

                    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
                        maxZoom: 18,
                        attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
                            '<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
                            'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
                        id: 'mapbox/streets-v11',
                        tileSize: 512,
                        zoomOffset: -1
                    }).addTo(mymap);

                    L.marker([32.2, -110.97]).addTo(mymap)
                        .bindPopup("<b>Wellhead</b><br />Chipping day this Saturday at 9 am!").openPopup();

                    L.marker([32.25, -110.96]).addTo(mymap)
                        .bindPopup("<b>Wellhead</b><br />Mulch Class this Saturday at 11 am!").openPopup();

                    L.marker([32.255, -110.955], {icon: greenIcon}).addTo(mymap)
                        .bindPopup("<b>Wellhead</b><br />Chipping day this Saturday at 9 am!").openPopup();

                    // L.circle([51.508, -0.11], 500, {
                    //     color: 'red',
                    //     fillColor: '#f03',
                    //     fillOpacity: 0.5
                    // }).addTo(mymap).bindPopup("I am a circle.");

                    // L.polygon([
                    //     [51.509, -0.08],
                    //     [51.503, -0.06],
                    //     [51.51, -0.047]
                    // ]).addTo(mymap).bindPopup("I am a polygon.");


                    var popup = L.popup();

                    function onMapClick(e) {
                        popup
                            .setLatLng(e.latlng)
                            .setContent("You clicked the map at " + e.latlng.toString())
                            .openOn(mymap);
                    }

                    mymap.on('click', onMapClick);

                </script>
          <!-- </li> -->




<!-- marketplace -->
<div id='marketplace'>

        <div class="field">
            <div class="control">
                <div class="select is-primary">
                <select>
                    <option>Filter by Type</option>
                    <option>Brush</option>
                    <option>Equipment</option>
                    <option>Transportation</option>
                    <option>Storage</option>
                    <option>Mulch</option>
                </select>
                </div>
            </div>
            </div>
            <div class="field">
            <div class="control">
                <div class="select is-info">
                <select>
                    <option>Filter by Location</option>
                    <option>85711</option>
                    <option>85712</option>
                </select>
                </div>
            </div>
            </div>



    <h1>Offers</h1>
    <table class="table">
        <thead>
            <tr>
            <th><abbr title="Offer">Offer</abbr></th>
            <th><abbr title="Name/Organization">Name</abbr></th>
            <th><abbr title="Type">Type</abbr></th>
            <th><abbr title="Asking Price">Ask</abbr></th>
            <th><abbr title="Expires">Expires</abbr></th>
            <th><abbr title="Location">University of Arizona</abbr></th>
            <th><abbr title="Contact">Contact</abbr></th>
            </tr>
        </thead>
        <tbody>
            <tr>
            <th>5 trash bags of brush (branches and leaves)</th>
            <td>Isaac Newton</td>
            <td>Brush</td>
            <td>Free</td>
            <td>10/1/2020</td>
            <td>Glenn and Country Club Road</td>
            <td>kevin@usanpn.org</td>
            </tr>
            <tr>
            <th>Chipper Rental</th>
            <td>Marie Curie</td>
            <td>Chipper rental</td>
            <td>$10/day</td>
            <td>Never</td>
            <td>Speedway and Campbell</td>
            <td>hello@tucson.org</td>
            </tr>
        
        </tbody>
    </table>

    <h1>Asks</h1>
    <table class="table">
        <thead>
            <tr>
            <th><abbr title="Ask">Ask</abbr></th>
            <th><abbr title="Name/Organization">Name</abbr></th>
            <th><abbr title="Type">Type</abbr></th>
            <th><abbr title="Max Price">Max Price</abbr></th>
            <th><abbr title="Expires">Expires</abbr></th>
            <th><abbr title="Contact">Contact</abbr></th>
            </tr>
        </thead>
        <tbody>
            <tr>
            <th>3 trash bags of brush (branches and leaves)</th>
            <td>John Doe</td>
            <td>Mulch</td>
            <td>Free</td>
            <td>10/1/2020</td>
            <td>johndoe@example.org</td>
            </tr>
            <tr>
            <th>Chipper Rental</th>
            <td>Jane Doe</td>
            <td>Chipper rental</td>
            <td>$10/day</td>
            <td>9/1/2020</td>
            <td>janedoe@tucson.org</td>
            </tr>
        
        </tbody>
    </table>
</div>

<div id="resources">
    <h1>Resources</h1>
    <ul>
        <li><a href="http://www.desertharvesters.org/">Desert Harvesters</a></li>
        <li><a href="https://www.tucsonaz.gov/environmental-services">City of Tucson - Environmental Services</a></li>
        <li><a href="https://watershedmg.org/">Watershed Management Group</a></li>

        <li><a href="https://watershedmg.org/">Tanks Green</a></li>
        <li><a href="https://watershedmg.org/">Compost Cats</a></li>
        <li><a href="https://getchipdrom.com">GetChipDrop</a></li>
        <li>
            <a>Seeds</a>
            <ul>
                <li><a href="https://www.library.pima.gov/seed-library/">Pima Seed Library</a></li>
                <li><a href="https://www.nativeseeds.org">Native Seed Search</a></li>
            </ul>
            
            
    </ul>

</div>

        
</body>
</html>



<script>
    // tab click show
    $(document).ready(function() {
        $(".tab").click(function () {
            $(".tab").removeClass("is-active");
            // $(".tab").addClass("is-active"); // instead of this do the below 
            $(this).addClass("is-active");   

            console.log($(this).attr("id"));

            if ($(this).attr("id") == "map") {
                $("#mapid").show()
                $("#calendar").hide()
                $('#marketplace').hide()
            } else if($(this).attr("id") == "cal") {
                $("#mapid").hide()
                $("#calendar").show()
                $("#marketplace").hide()
            } else if ($(this).attr("id") == 'list') {
                $("#marketplace").show()
                $("#calendar").hide()
                $("#mapid").hide()
            }
        });

        // if there's a popup with class .main:
        // if($('.tab.is-active').length){
        //     // show it:
        //     $('.tab.is-active').show();
        //     // and remove the one without class .main:
        //     $('.tab').not('.is-active').remove();

        // // else, if there's no tab with class .main:
        // }else{
        //     // show the .tab:
        //     $('.tab').show();
        // }


        
    });
</script>